1
00:00:00,000 --> 00:00:00,100

2
00:00:00,100 --> 00:00:01,860
En este curso nuestro
proyecto va a ser

3
00:00:01,860 --> 00:00:05,574
construir un blog usando
MongoDB y Python.

4
00:00:05,574 --> 00:00:07,240
Para hacer eso vamos
a necesitar un framework

5
00:00:07,240 --> 00:00:09,710
web, ya que vamos a hacer
una aplicación web.

6
00:00:09,710 --> 00:00:12,500
El framework que vamos a usar
durante el curso se llama Bottle.

7
00:00:12,500 --> 00:00:16,820
Bottle es un framework web
minimalista muy simple,

8
00:00:16,820 --> 00:00:20,210
tiene plantillas básicas
y permite crear páginas web.

9
00:00:20,210 --> 00:00:22,750
Probablemente no sea algo que
usarías para un proyecto

10
00:00:22,750 --> 00:00:24,116
en producción, pero podrías.

11
00:00:24,116 --> 00:00:25,490
En cualquier caso está
muy bien para este curso

12
00:00:25,490 --> 00:00:28,650
porque en cierto modo elimina
toda la complejidad de

13
00:00:28,650 --> 00:00:30,970
la programación web moderna.

14
00:00:30,970 --> 00:00:33,450
Vamos a localizarlo y a instalarlo.

15
00:00:33,450 --> 00:00:35,097
Es un módulo de Python.

16
00:00:35,097 --> 00:00:36,805
Lo que voy a
hacer aquí es ir

17
00:00:36,805 --> 00:00:38,760
a Google, como siempre.

18
00:00:38,760 --> 00:00:41,110
Soy un fiel usuario de Google.

19
00:00:41,110 --> 00:00:46,470
Y voy a poner
"bottle python framework".

20
00:00:46,470 --> 00:00:49,610
Y parece que existe
un "bottlepy.org".

21
00:00:49,610 --> 00:00:51,730
Hago click en el
enlace y veo que

22
00:00:51,730 --> 00:00:54,320
existe una versión "preview",
pero quiero la versión estable.

23
00:00:54,320 --> 00:00:55,950
Así que hago click ahí.

24
00:00:55,950 --> 00:00:58,980
Y ahora me da cierta información
básica sobre este módulo.

25
00:00:58,980 --> 00:01:01,641
Y puedes ver que tienen un
programa "Hello World"

26
00:01:01,641 --> 00:01:02,140
de ejemplo.

27
00:01:02,140 --> 00:01:03,900
Vamos a ejecutar
ese programa.

28
00:01:03,900 --> 00:01:05,080
Es un programa muy corto.

29
00:01:05,080 --> 00:01:06,380
Voy a guiarte por el
programa línea a línea,

30
00:01:06,380 --> 00:01:07,660
y te enseñaré qué hace.

31
00:01:07,660 --> 00:01:10,010
Pero ahora queremos
descargarlo e instalarlo.

32
00:01:10,010 --> 00:01:12,810
Ahora nos sugieren que lo
obtengamos del repositorio PyPI,

33
00:01:12,810 --> 00:01:14,830
y que usemos easy_install.

34
00:01:14,830 --> 00:01:16,140
Yo prefiero usar pip.

35
00:01:16,140 --> 00:01:18,860
Hemos instalado pip tanto
en Mac como en Windows,

36
00:01:18,860 --> 00:01:21,520
como vimos en las
lecciones anteriores.

37
00:01:21,520 --> 00:01:23,930
Así que seguiremos
adelante y usaremos pip.

38
00:01:23,930 --> 00:01:27,090
Voy a abrir una
ventana de comandos.

39
00:01:27,090 --> 00:01:30,940
Cambio al usuario "root",
es necesario hacerlo en Mac,

40
00:01:30,940 --> 00:01:34,250
pero no debería necesitar hacerlo
en una máquina Windows, creo.

41
00:01:34,250 --> 00:01:36,780
"pip install bottle".

42
00:01:36,780 --> 00:01:37,490
Bien.

43
00:01:37,490 --> 00:01:39,270
Se instaló la
versión 0.12.8,

44
00:01:39,270 --> 00:01:41,900
lo cual es una buena noticia
porque sabemos que la versión

45
00:01:41,900 --> 00:01:44,390
0.13 es inestable,

46
00:01:44,390 --> 00:01:45,940
y por tanto no queremos usarla.

47
00:01:45,940 --> 00:01:47,320
Veamos si es cierto.

48
00:01:47,320 --> 00:01:51,340
Decía que la versión 0.12 era
estable, y ésta es la 0.12.

49
00:01:51,340 --> 00:01:52,020
Así que está bien.

50
00:01:52,020 --> 00:01:53,630
Es la versión estable.

51
00:01:53,630 --> 00:01:56,270
Y ahora necesitamos
ese programita.

52
00:01:56,270 --> 00:01:58,482
Para hacer eso, lo más
sencillo es simplemente

53
00:01:58,482 --> 00:01:59,940
copiarlo con el ratón.

54
00:01:59,940 --> 00:02:01,230
Y ya he hecho eso.

55
00:02:01,230 --> 00:02:03,299
Puedes usar el editor
que prefieras.

56
00:02:03,299 --> 00:02:04,840
Yo voy a usar
Emacs porque me

57
00:02:04,840 --> 00:02:06,652
resulta muy familar,
y ahora voy a

58
00:02:06,652 --> 00:02:08,860
guiarte por este programa,
línea a línea,

59
00:02:08,860 --> 00:02:10,360
mostrándote qué hace.

60
00:02:10,360 --> 00:02:13,600
Importa unos cuantos métodos
diferentes de Bottle: "route", "run"

61
00:02:13,600 --> 00:02:14,550
y "template".

62
00:02:14,550 --> 00:02:17,770
Usa estos decoradores, que

63
00:02:17,770 --> 00:02:20,020
se utilizan para configurar
las URLs que atenderá

64
00:02:20,020 --> 00:02:21,520
el servidor web.

65
00:02:21,520 --> 00:02:23,190
Entonces, aquí está
diciendo que quiere

66
00:02:23,190 --> 00:02:27,030
capturar "/hello/<name>",

67
00:02:27,030 --> 00:02:29,360
es una URL que
manejará este programa,

68
00:02:29,360 --> 00:02:30,580
donde "name" es una variable.

69
00:02:30,580 --> 00:02:33,960
Podría ser "/hello/Andrew"
o "/hello/Bob",

70
00:02:33,960 --> 00:02:37,850
y devolverá
esta plantilla, que

71
00:02:37,850 --> 00:02:38,600
está aquí mismo.

72
00:02:38,600 --> 00:02:40,725
También puedes recuperarla
de un directorio de plantillas,

73
00:02:40,725 --> 00:02:42,610
pero en este caso es
una plantilla en línea.

74
00:02:42,610 --> 00:02:45,870
Dice: devuelve "<b>Hello {{name}}</b>!".

75
00:02:45,870 --> 00:02:47,420
Está en negrita y con un
signo de exclamación,

76
00:02:47,420 --> 00:02:49,980
y eso es todo, donde
"name = name".

77
00:02:49,980 --> 00:02:51,590
Y por último, le
está diciendo

78
00:02:51,590 --> 00:02:53,650
que ejecute el servidor
web y que escuche:

79
00:02:53,650 --> 00:02:57,350
"run(host='localhost', port=8080)".

80
00:02:57,350 --> 00:02:59,970
Ejecutemos el programa y
veamos qué pasa.

81
00:02:59,970 --> 00:03:02,310
Vamos a invocar
el intérprete de Python

82
00:03:02,310 --> 00:03:03,670
sobre "hello_bottle.py".

83
00:03:03,670 --> 00:03:05,670
Esto no está usando
MongoDB para nada.

84
00:03:05,670 --> 00:03:06,170
Bien.

85
00:03:06,170 --> 00:03:07,800
Está escuchando en el puerto 8080.

86
00:03:07,800 --> 00:03:09,900
Volvamos al
navegador web.

87
00:03:09,900 --> 00:03:14,444
Ve al puerto 8080, escribe la URL
"/hello/", y a continuación añade

88
00:03:14,444 --> 00:03:16,485
"Andrew" al final, veamos
si me saluda.

89
00:03:16,485 --> 00:03:17,850
Dice: "Hello Andrew!".

90
00:03:17,850 --> 00:03:21,550
Y podríamos haber hecho
que dijera "Hello Eliot!".

91
00:03:21,550 --> 00:03:22,430
"Hello Eliot!".

92
00:03:22,430 --> 00:03:26,420
Y si queremos, puede
decir "Hello Richard!".

93
00:03:26,420 --> 00:03:27,240
Eso es.

94
00:03:27,240 --> 00:03:29,448
Puedes ver que cada vez
que pongo algo en el navegador web

95
00:03:29,448 --> 00:03:31,510
imprime lo que puse en la URL,

96
00:03:31,510 --> 00:03:33,984
"Andrew", "Eliot", and "Richard".

97
00:03:33,984 --> 00:03:35,650
Así es como se instala y ejecuta

98
00:03:35,650 --> 00:03:36,940
Bottle en un Mac.

99
00:03:36,940 --> 00:03:38,600
Y en Windows
es muy similar.

100
00:03:38,600 --> 00:03:41,205
Siempre que tengas
instalado pip y Python

101
00:03:41,205 --> 00:03:42,580
y tus scripts
sean correctos,

102
00:03:42,580 --> 00:03:45,670
deberías ser capaz de hacer
esto de forma muy similar.

